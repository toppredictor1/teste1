<!DOCTYPE html>
<html lang="ru">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Emmanuel Hacker</title>
  <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;600;700;800&display=swap" rel="stylesheet">
  <style>
    :root{
      --orange:#ff7a00;
      --green:#0cb86a;
      --blue:#1b57f2;
      --muted:#9aa4b2;
    }
    *{box-sizing:border-box}
    html,body{height:100%}
    body{
      margin:0; font-family:Inter,system-ui,Segoe UI,Roboto,Arial,sans-serif; color:#e9edf3;
      background:#0b0f14;
      display:flex; align-items:center; justify-content:center; padding:20px;
    }
    .wrap{ width:min(480px, 100%); }
    .card{
      background: linear-gradient(180deg, rgba(255,255,255,.04), rgba(255,255,255,.02));
      backdrop-filter: blur(6px);
      border:1px solid rgba(255,255,255,.08);
      border-radius:24px; padding:26px 22px; box-shadow:0 20px 60px rgba(0,0,0,.45);
    }
    .flag{width:64px; display:block; margin:0 auto 8px}
    .title{ text-align:center; font-weight:800; margin:2px 0 8px; font-size:28px; color:#ff7a00; }
    .subtitle{ text-align:center; color:var(--muted); font-size:14px; margin-bottom:18px }
    .game{margin-bottom:10px;}
    label.block{display:block; font-weight:600; margin-top:14px; margin-bottom:8px; text-align:left}
    .input{ width:100%; background:#121a2b; color:#e9edf3; border:1px solid rgba(255,255,255,.1); border-radius:12px; padding:12px 14px; outline:none; }
    .btn{ margin-top:16px; width:100%; border:0; border-radius:14px; padding:14px 16px; font-weight:800; font-size:16px; color:#071018; background:linear-gradient(90deg, var(--orange), var(--green)); cursor:pointer; }
    .btn:disabled{opacity:.5; cursor:not-allowed}
    .progress{ display:none; height:10px; background:#101625; border-radius:999px; overflow:hidden; margin-top:14px; border:1px solid rgba(255,255,255,.08) }
    .bar{ height:100%; width:0; background:linear-gradient(90deg, var(--orange), var(--green)); animation: fill 2.4s linear forwards }
    @keyframes fill{ from{width:0} to{width:100%} }
    .message-box{ margin-top:16px; padding:14px; border-radius:12px; background:#1a2336; border:1px solid rgba(255,255,255,.08); font-size:14px; min-height:60px; display:flex; flex-direction:column; align-items:center; justify-content:center; color:var(--muted); }
    #signalValue{ margin-top:8px; min-height:28px; font-weight:800; text-align:center; font-size:20px; color:#0cb86a; }
  </style>
</head>
<body>
  <div class="wrap">
    <div class="card">
      <img src="https://upload.wikimedia.org/wikipedia/commons/thumb/7/79/Flag_of_Nigeria.svg/1200px-Flag_of_Nigeria.svg.png" class="flag" alt="Nigeria"/>
      <div class="title">Emmanuel Hacker</div>
      <div class="subtitle">Fast signals • Made in Nigeria • NGN</div>

      <label class="block" for="acc">Account ID</label>
      <input id="acc" class="input" placeholder="9876543210" maxlength="10" inputmode="numeric" />

      <button class="btn" id="start" disabled>Start</button>
      <div class="progress" id="progress"><div class="bar"></div></div>

      <div id="signalsBox" class="message-box" style="display:none;">
        <div id="signalText">📡 Waiting for signals...</div>
        <div id="signalValue"></div>
      </div>
    </div>
  </div>

  <script>
    const acc = document.getElementById('acc');
    const start = document.getElementById('start');
    const progress = document.getElementById('progress');
    const signalsBox = document.getElementById('signalsBox');
    const signalText = document.getElementById('signalText');
    const signalValue = document.getElementById('signalValue');

    let adminSeries = [];
    let seriesIndex = 0;

    // Проверка ID
    acc.addEventListener('input', ()=>{
      acc.value = acc.value.replace(/\D/g,'').slice(0,10);
      start.disabled = !(/^\d{10}$/.test(acc.value));
    });

    // Рандом
    function randomMultiplier(){ return (Math.random() * (10 - 1.01) + 1.01).toFixed(2); }

    // Подгрузка серии из localStorage
    function getAdminSeries(){
      const saved = localStorage.getItem('aviatorSeries');
      if(saved){
        adminSeries = saved.split(',').map(s=>s.trim()).filter(Boolean);
        seriesIndex = 0;
      }
    }

    function getNextAdminSignal(){
      if(seriesIndex < adminSeries.length){
        const val = parseFloat(adminSeries[seriesIndex]).toFixed(2);
        seriesIndex++;
        return 'x' + val;
      }
      return null;
    }

    function generateSignal(){
      const now = new Date().toLocaleTimeString();
      signalText.textContent = `🎯 [${now}] Aviator`;

      const nextAdmin = getNextAdminSignal();
      let multiplier = nextAdmin ? nextAdmin : 'x' + randomMultiplier();

      signalValue.textContent = multiplier;
    }

    function startSignals(){
      signalsBox.style.display = 'flex';
      generateSignal();
    }

    start.addEventListener('click', ()=>{
      getAdminSeries(); // подтягиваем ряд из админки

      progress.style.display = 'block';
      const bar = progress.querySelector('.bar');
      bar.style.animation = 'none';
      void bar.offsetWidth;
      bar.style.animation = 'fill 2.4s linear forwards';

      setTimeout(()=>{
        progress.style.display = 'none';
        startSignals();
      },2400);
    });
  </script>
</body>
</html>
